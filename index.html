<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mamak Store</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #000; color: white; }
        nav { background: #333; color: white; padding: 10px; display: flex; justify-content: space-between; align-items: center; }
        nav a { color: white; margin: 0 15px; text-decoration: none; }
        .container { max-width: 1200px; margin: 0 auto; }
        .search-filter { margin: 20px 0; display: flex; gap: 10px; flex-wrap: wrap; }
        .search-filter input, .search-filter select { padding: 8px; background: #333; color: white; border: 1px solid #555; }
        .game-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; margin-top: 20px; }
        .game-card { background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); padding: 15px; text-align: center; transition: transform 0.3s, box-shadow 0.3s; backdrop-filter: blur(10px); }
        .game-card:hover { transform: scale(1.05); box-shadow: 0 0 20px red; }
        .game-card img { width: 100%; height: 150px; object-fit: cover; }
        .game-card button {
            margin: 5px;
            padding: 10px 15px;
            cursor: pointer;
            background: linear-gradient(45deg, #000000, #000000, #ffffff);
            color: white;
            border: none;
            border-radius: 20px;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .game-card button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        .banner {
            background-image: url('banners.png');
            background-size: cover;
            background-position: center;
            height: 250px;
            margin-top: 20px;
            margin-bottom: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
        }
        .banner h2 {
            margin: 0;
            font-size: 2em;
        }
        .banner p {
            margin: 10px 0 0 0;
            font-size: 1.2em;
        }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); justify-content: center; align-items: center; }
        .modal-content { background: rgba(255, 255, 255, 0.1); padding: 20px; max-width: 500px; width: 90%; border-radius: 8px; backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); }
        .pagination { margin-top: 20px; text-align: center; }
        .pagination button { padding: 8px 12px; margin: 0 5px; cursor: pointer; background: #555; color: white; border: none; }
        .wishlist, .library, .cart { margin-top: 20px; }
        .wishlist ul, .library ul, .cart ul { list-style: none; padding: 0; }
        .wishlist li, .library li, .cart li { background: rgba(255, 255, 255, 0.1); padding: 10px; margin: 5px 0; border: 1px solid rgba(255, 255, 255, 0.2); display: flex; justify-content: space-between; backdrop-filter: blur(5px); }
        .login-form { max-width: 400px; margin: 50px auto; background: rgba(255, 255, 255, 0.1); padding: 20px; border-radius: 8px; backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); }
        .login-form input { width: 94.5%; padding: 10px; margin: 10px 0; background: #333; color: white; border: 1px solid #555; }
        .login-form button { width: 100%; padding: 10px; background: #555; color: white; border: none; cursor: pointer; }
        #login-btn {
            padding: 10px 20px;
            background: #000;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        #login-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        @media (max-width: 768px) { .game-grid { grid-template-columns: 1fr; } nav { flex-direction: column; } }
    </style>
</head>
<body>
    <nav>
        <div>
            <a href="#" onclick="showPage('home')">Home</a>
            <a href="#" onclick="showPage('wishlist')">Wishlist</a>
            <a href="#" onclick="showPage('library')">Library</a>
            <a href="#" onclick="showPage('cart')">Cart</a>
        </div>
        <button id="login-btn" onclick="showPage('login')">Login</button>
    </nav>
    <div class="container">
        <div id="home" class="page">
            <div class="banner">
                <div>
                    <h2>Welcome to Mamak Store</h2>
                    <p>Discover the best games at unbeatable prices!</p>
                </div>
            </div>
            <div class="search-filter">
                <input type="text" id="search" placeholder="Cari game..." onkeyup="filterGames()">
                <select id="filter-genre" onchange="filterGames()">
                    <option value="">Semua Genre</option>
                    <option value="battle-royale">Battle Royale</option>
                    <option value="rpg">RPG</option>
                    <option value="sports">Sports</option>
                </select>
                <select id="filter-price" onchange="filterGames()">
                    <option value="">Semua Harga</option>
                    <option value="free">Gratis</option>
                    <option value="paid">Berbayar</option>
                </select>
            </div>
            <div class="game-grid" id="game-grid"></div>
            <div class="pagination" id="pagination"></div>
        </div>
        <div id="login" class="page login-form" style="display: none;">
            <h2>Login</h2>
            <form onsubmit="handleLogin(event)">
                <input type="text" id="username" placeholder="Username" required>
                <input type="password" id="password" placeholder="Password" required>
                <button type="submit">Login</button>
            </form>
            <p style="text-align: center; margin-top: 10px;">Demo: Username "admin", Password "123"</p>
        </div>
        <div id="modal" class="modal">
            <div class="modal-content">
                <span onclick="closeModal()" style="float: right; cursor: pointer; font-size: 20px;">&times;</span>
                <h2 id="modal-title"></h2>
                <img id="modal-img" src="" alt="" style="width: 100%; height: 200px; object-fit: cover;">
                <p id="modal-desc"></p>
                <p>Genre: <span id="modal-genre"></span></p>
                <p>Harga: Rp <span id="modal-price"></span></p>
                <button onclick="addToWishlist(currentGame)">Add to Wishlist</button>
                <button onclick="addToCart(currentGame)">Add to Cart</button>
                <button onclick="buyGame(currentGame)">Buy Now</button>
            </div>
        </div>
        <div id="wishlist" class="page wishlist" style="display: none;">
            <h2>Wishlist</h2>
            <ul id="wishlist-list"></ul>
        </div>
        <div id="library" class="page library" style="display: none;">
            <h2>Library</h2>
            <ul id="library-list"></ul>
        </div>
        <div id="cart" class="page cart" style="display: none;">
            <h2>Cart</h2>
            <ul id="cart-list"></ul>
            <p>Total: Rp <span id="cart-total">0</span></p>
            <button onclick="checkout()">Checkout</button>
        </div>
    </div>

    <script>
        // Data game dummy dengan genre (simulasi API)
        const games = [
            { id: 1, name: "Fortnite", img: "fortnite.png", desc: "Battle royale game populer.", genre: "battle-royale", price: 0 },
            { id: 2, name: "Rocket League", img: "rl.png", desc: "Sepak bola dengan mobil.", genre: "sports", price: 150000 },
            { id: 3, name: "Apex Legends", img: "apex.png", desc: "Shooter battle royale.", genre: "battle-royale", price: 0 },
            { id: 4, name: "Cyberpunk 2077", img: "cpunk.png", desc: "RPG open-world futuristik.", genre: "rpg", price: 500000 },
            { id: 5, name: "The Witcher 3", img: "tww.png", desc: "RPG epik.", genre: "rpg", price: 300000 },
            { id: 6, name: "FIFA 23", img: "fifa23.png", desc: "Simulasi sepak bola.", genre: "sports", price: 400000 },
            { id: 7, name: "FIFA 23", img: "https://via.placeholder.com/250x150?text=FIFA+23", desc: "Simulasi sepak bola.", genre: "sports", price: 400000 },
            { id: 8, name: "FIFA 23", img: "https://via.placeholder.com/250x150?text=FIFA+23", desc: "Simulasi sepak bola.", genre: "sports", price: 400000 },
            { id: 9, name: "FIFA 23", img: "https://via.placeholder.com/250x150?text=FIFA+23", desc: "Simulasi sepak bola.", genre: "sports", price: 400000 }
        ];

        let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
        let library = JSON.parse(localStorage.getItem('library')) || [];
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let currentGame = null;
        let currentPage = 1;
        const gamesPerPage = 8;
        let filteredGames = games;
        let user = localStorage.getItem('user') || null;

        // Fungsi untuk menampilkan halaman
        function showPage(page) {
            document.querySelectorAll('.page').forEach(p => p.style.display = 'none');
            document.getElementById(page).style.display = 'block';
            if (page === 'home') displayGames();
            else if (page === 'wishlist') updateWishlist();
            else if (page === 'library') updateLibrary();
            else if (page === 'cart') updateCart();
        }

        // Fungsi handle login
        function handleLogin(event) {
            event.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            // Simulasi autentikasi dummy
            if (username === 'admin' && password === '123') {
                user = username;
                localStorage.setItem('user', user);
                document.getElementById('login-btn').textContent = `Hi, ${user} (Logout)`;
                document.getElementById('login-btn').onclick = logout;
                showPage('home');
                alert('Login berhasil!');
            } else {
                alert('Username atau password salah!');
            }
        }

        // Fungsi logout
        function logout() {
            user = null;
            localStorage.removeItem('user');
            document.getElementById('login-btn').textContent = 'Login';
            document.getElementById('login-btn').onclick = () => showPage('login');
            showPage('home');
            alert('Logout berhasil!');
        }

        // Fungsi filter dan search
        function filterGames() {
            const search = document.getElementById('search').value.toLowerCase();
            const genre = document.getElementById('filter-genre').value;
            const price = document.getElementById('filter-price').value;
            filteredGames = games.filter(game => {
                return game.name.toLowerCase().includes(search) &&
                       (genre === '' || game.genre === genre) &&
                       (price === '' || (price === 'free' && game.price === 0) || (price === 'paid' && game.price > 0));
            });
            currentPage = 1;
            displayGames();
        }

        // Fungsi untuk menampilkan grid game dengan pagination
        function displayGames() {
            const grid = document.getElementById('game-grid');
            grid.innerHTML = '';
            const start = (currentPage - 1) * gamesPerPage;
            const end = start + gamesPerPage;
            const pageGames = filteredGames.slice(start, end);
            pageGames.forEach(game => {
                const card = document.createElement('div');
                card.className = 'game-card';
                card.innerHTML = `
                    <img src="${game.img}" alt="${game.name}">
                    <h3>${game.name}</h3>
                    <p>Rp ${game.price || 'Gratis'}</p>
                    <button onclick="viewDetail(${game.id})">View Details</button>
                `;
                grid.appendChild(card);
            });
            renderPagination();
        }

        // Fungsi pagination
        function renderPagination() {
            const pagination = document.getElementById('pagination');
            pagination.innerHTML = '';
            const totalPages = Math.ceil(filteredGames.length / gamesPerPage);
            for (let i = 1; i <= totalPages; i++) {
                const btn = document.createElement('button');
                btn.textContent = i;
                btn.onclick = () => { currentPage = i; displayGames(); };
                pagination.appendChild(btn);
            }
        }

        // Fungsi untuk melihat detail di modal
        function viewDetail(gameId) {
            currentGame = games.find(g => g.id === gameId);
            document.getElementById('modal-title').textContent = currentGame.name;
            document.getElementById('modal-img').src = currentGame.img;
            document.getElementById('modal-desc').textContent = currentGame.desc;
            document.getElementById('modal-genre').textContent = currentGame.genre;
            document.getElementById('modal-price').textContent = currentGame.price || 'Gratis';
            document.getElementById('modal').style.display = 'flex';
        }

        // Fungsi tutup modal
        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }

        // Fungsi untuk menambah ke wishlist
        function addToWishlist(game) {
            if (!wishlist.find(g => g.id === game.id)) {
                wishlist.push(game);
                localStorage.setItem('wishlist', JSON.stringify(wishlist));
                updateWishlist();
                alert(`${game.name} ditambahkan ke wishlist!`);
            } else {
                alert('Sudah ada di wishlist.');
            }
        }

        // Fungsi untuk menambah ke cart
        function addToCart(gameOrId) {
            let game;
            if (typeof gameOrId === 'number') {
                // From wishlist, remove from wishlist
                game = wishlist.find(g => g.id === gameOrId);
                if (game) {
                    wishlist = wishlist.filter(g => g.id !== gameOrId);
                    localStorage.setItem('wishlist', JSON.stringify(wishlist));
                    updateWishlist();
                }
            } else {
                game = gameOrId; // From modal or other places
            }
            if (game && !cart.find(g => g.id === game.id)) {
                cart.push(game);
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCart();
                alert(`${game.name} ditambahkan ke cart!`);
            } else if (game) {
                alert('Sudah ada di cart.');
            }
        }

        // Fungsi untuk membeli game
        function buyGame(game) {
            if (!library.find(g => g.id === game.id)) {
                library.push(game);
                localStorage.setItem('library', JSON.stringify(library));
                updateLibrary();
                alert(`${game.name} dibeli dan ditambahkan ke library!`);
            } else {
                alert('Sudah ada di library.');
            }
        }

        // Fungsi update wishlist
        function updateWishlist() {
            const list = document.getElementById('wishlist-list');
            list.innerHTML = '';
            wishlist.forEach(game => {
                const li = document.createElement('li');
                li.innerHTML = `${game.name} - Rp ${game.price || 'Gratis'} <button onclick="addToCart(${game.id})">Add to Cart</button>`;
                list.appendChild(li);
            });
        }

        // Fungsi update library
        function updateLibrary() {
            const list = document.getElementById('library-list');
            list.innerHTML = '';
            library.forEach(game => {
                const li = document.createElement('li');
                li.textContent = `${game.name} - Dibeli`;
                list.appendChild(li);
            });
        }

        // Fungsi update cart
        function updateCart() {
            const list = document.getElementById('cart-list');
            list.innerHTML = '';
            let total = 0;
            cart.forEach(game => {
                const li = document.createElement('li');
                li.innerHTML = `${game.name} - Rp ${game.price || 0}`;
                list.appendChild(li);
                total += game.price || 0;
            });
            document.getElementById('cart-total').textContent = total;
        }

        // Fungsi checkout
        function checkout() {
            if (cart.length === 0) {
                alert('Cart kosong!');
            } else {
                // Add all cart items to library
                cart.forEach(game => {
                    if (!library.find(g => g.id === game.id)) {
                        library.push(game);
                    }
                });
                localStorage.setItem('library', JSON.stringify(library));
                updateLibrary();
                alert(`Checkout berhasil! Total: Rp ${document.getElementById('cart-total').textContent}`);
                cart = [];
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCart();
            }
        }

        // Jalankan saat halaman dimuat
        window.onload = () => {
            if (user) {
                document.getElementById('login-btn').textContent = `Hi, ${user} (Logout)`;
                document.getElementById('login-btn').onclick = logout;
            }
            displayGames();
        };
    </script>
</body>
</html>

